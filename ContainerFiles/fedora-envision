FROM quay.io/fedora/fedora-toolbox:latest

LABEL com.github.containers.toolbox="true" \
      usage="This image is meant to be used with the toolbox or distrobox command" \
      summary="An example ContainerFile to demonstrate multiple image builds." \
      maintainer="zqueen@zqueen.org"

# Copy setup scripts and package list
COPY ../scripts/fedora-example.sh /
COPY ../scripts/distrobox-shims.sh /
COPY ../packages/fedora-example.packages /

# Copy your Python script
COPY ../scripts/install-envision.py /tmp/install-envision

# Run setup and install the tool
RUN chmod +x fedora-example.sh distrobox-shims.sh \
    && /fedora-example.sh \
    && install -m 0755 /tmp/install-envision /usr/local/bin/install-envision \
    && rm /fedora-example.sh /distrobox-shims.sh /fedora-example.packages /tmp/install-envision
